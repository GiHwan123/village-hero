<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
	<div id="title" class="py-5 text-center">
		<h2>심부름 수정</h2>
	</div>

	<div id="detail">
		<div v-bind="errands">
			<form class="updateErrand" action="/updateErrand" method="POST">
				<input type="hidden" name="_method" value="PUT"> 
				<input type="hidden" class="form-control" id="errandId" name="errandId"
					v-bind:value="errands.errandId">
				
				<div class="form-group">
					<p id="title">
						<input type="text" class="form-control" id="title"
							name="title" v-bind:value="errands.title" required> <br>

					</p>
				</div>
				<hr>

				<div class="form-group">
					<p id="username">
						작성자: <span>{{errands.writer}}</span> <br> 
						요청위치: <input type="text" class="form-control" id="location" name="reqLocation"
							v-bind:value="errands.reqLocation" required>
					</p>
				</div>
				<hr>

				<div class="form-group">
					<p id="content1">
						가격: <input type="text" class="form-control" id="price" name="pay"
							v-bind:value="errands.pay" required> <br> 
						분류: <input type="text" class="form-control" id="cg" name="category"
							v-bind:value="errands.category" required> <br> 
						요청일시: <input type="text" class="form-control" id="requestDate"
							name="reqDate" v-bind:value="errands.reqDate" required>
					</p>
				</div>
				<hr>
				
				<div class="form-group">
					<p id="content2">
						상세내용 <br> <input type="text" class="form-control"
							id="content" name="content" v-bind:value="errands.content"
							required>
					</p>
				</div>


				<br>

				<button type="submit">수정하기</button>

			</form>
		</div>

	</div>

	<script>
		new Vue({
	        el:"#detail",
	        data : {
	        	resData : false,
	        	errands :"",
	        	idCheck :""
	        },
	        created :function(){
	        	axios({
	                method : "get",
	                url : "http://localhost:8088/errandDetail2" + location.search
	            }).then( resData => {
	            	this.resData=true;
	                return this.errands = resData.data;
	            }).catch(errorData => {
	            	return console.log(errorData);
	            });
	        
	        }

	    });
	</script>
</body>
</html>